---
title: "websiteã‚¢ãƒ—ãƒªã‚’djangoã§ä½œæˆã—ã¦ã¿ãŸ"
emoji: "ğŸ¦§"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [Azure,AzureDevOps,Django,python]
published: false
---
â– ã“ã®è¨˜äº‹ã§ã‚ã‹ã‚‹ã“ã¨ã€‚
Djangoã«ã‚ˆã‚‹ç°¡å˜ãªhtmlã¨cssã§æ§‹æˆã•ã‚ŒãŸwebsiteã‚¢ãƒ—ãƒªã®ãƒãƒ³ã‚ºã‚ªãƒ³ã€‚
AzureDevOpsã¸ã®ãƒªãƒã‚¸ãƒˆãƒªä½œæˆæ–¹æ³•ã€‚

â– å¯¾è±¡èª­è€…ï¼šåˆã‚ã¦Djangoã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹æ–¹ã€‚

â– ã–ã£ãã‚Šã¨ã‚„ã£ã¦ã„ãã“ã¨ã€‚
- Azure DevOpsã«organizationã‚„projectä½œã‚‹ã€‚
- Azure DevOps projectã«ãƒªãƒã‚¸ãƒˆãƒªã‚’ç”¨æ„ã™ã‚‹ã€‚
- ãƒ­ãƒ¼ã‚«ãƒ«ã§Djangoã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ã€‚htmlã¨cssé©ç”¨ã®å‹•ä½œç¢ºèªãŒã§ãã‚‹ã‚‚ã®ã€‚
- ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’åæ˜ ã•ã›ã‚‹ã€‚

â– æº–å‚™(äº‹å‰ã«å¿…è¦ãªãƒ„ãƒ¼ãƒ«é¡)
VS Codeã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
Gitã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
Azureã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²
pythonã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

â– å·¥ç¨‹
## 1.Azure,Azure DevOpsã®åˆ©ç”¨ã€organizationä½œæˆ
ã«é–¢ã—ã¦ã¯çœç•¥ã—ã¾ã™ã€‚
## 2.Azure DevOpsã«projectã‚’ä½œã‚‹
Â¥https://dev.azure.com/organizationå ã®ãƒšãƒ¼ã‚¸ã§ã€ã€ŒNEW projectã€æŠ¼ã™ã€‚
ã€ŒCreate new projectã€ç”»é¢ã§ã€ã€ŒProject nameã€ã«ä»»æ„ã®æ–‡å­—åˆ—å…¥ã‚Œã¦ã€ã€ŒCreateã€æŠ¼ã™ã€‚
Â¥https://dev.azure.com/organizationå/projectå ã®ãƒšãƒ¼ã‚¸ã§ã€å·¦å´ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒä¸¦ã‚“ã§ã„ã‚‹ã®ã§ã‚ªãƒ¬ãƒ³ã‚¸ã®ãƒœã‚¿ãƒ³æŠ¼ã™ã€‚![](/images/AzureDevOps_repos.png)
ä½œã£ãŸprojectåã§reopsãŒå­˜åœ¨ã—ã¦ã‚‹ã‚ˆã†ã§ã™ãŒã€ã‚³ãƒ¼ãƒ‰ãŒå…¥ã£ã¦ãªã„ã®ã§ã€[ï¼Šï¼Šï¼Š is empty. Add some code!]ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚æ­£ã—ã„ã®ã§æ°—ã«ã—ã¾ã›ã‚“ã€‚

## 3.Azure DevOpsã®Reposãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã™ã‚‹
ãƒ­ãƒ¼ã‚«ãƒ«PCã®ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã«ä»»æ„ã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã™ã‚‹ã€‚
AzureDevOpsã®[ï¼Šï¼Šï¼Š is empty. Add some code!]ã¨è¡¨ç¤ºã•ã‚ŒãŸç”»é¢ã§ã€[Initialize main branch with a README or gitignore]ã®[Initialize]ã‚’æŠ¼ã™ã€‚
[Branches]>[New branch]ã‚’æŠ¼ã—ã€[Create a branch]ç”»é¢ã§[Name]ä»»æ„æ–‡å­—åˆ—ã€[Based on]ã«ã¯mainã‚’æŒ‡å®šã—ã¦[Create]ã‚’æŠ¼ã™ã€‚
[Clone]ã‚’æŠ¼ã™ã€‚[Clone Repository]ç”»é¢ã§IDE[Clone in VS Code]ã‚’æŠ¼ã™ã€‚[ãƒªãƒã‚¸ãƒˆãƒªã®å®›å…ˆã¨ã—ã¦é¸æŠ]ã‚’æŠ¼ã™ã€‚
ğŸªãƒãƒƒã‚¯ï¼š5åˆ†çµŒã£ã¦ã‚‚ã‚¯ãƒ­ãƒ¼ãƒ³ãŒå®Œäº†ã—ãªã„ã€‚git clone ã‚³ãƒãƒ³ãƒ‰ã«[Clone Repository]ç”»é¢[Command line]HTTPã®æ–‡å­—åˆ—ã‚’æ¸¡ã—ã¦ã€Azureã‚¢ã‚«ã‚¦ãƒˆã®Passwordã‚’å…¥åŠ›ã—ã¦ã‚‚ã€
:::message
Cloning into 'tutorial'...
fatal: Authentication failed for 'Â¥https://dev.azure.com/***
:::
ã¨ãªã‚‹ã€‚
ğŸŒå¯¾å‡¦ï¼š[Clone Repository]ç”»é¢ã®[Generate Git Credentials]ã‚’æŠ¼ã™ã€‚Passwordã‚’ã‚³ãƒ”ãƒšã™ã‚‹ã€‚
vsã‚³ãƒ¼ãƒ‰ã§ctrl + j ã§terminalèµ·å‹•ã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã‚ŠãŸã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã™ã‚‹ã€‚
git clone ã‚³ãƒãƒ³ãƒ‰ã«[Clone Repository]ç”»é¢[Command line]HTTPã®æ–‡å­—åˆ—ã‚’æ¸¡ã—ã¦å®Ÿè¡Œã€ã‚³ãƒ”ãƒšã—ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è²¼ã‚Šä»˜ã‘ã¦EnteræŠ¼ã™ã€‚

## 4.ãƒ­ãƒ¼ã‚«ãƒ«PCã§Djangoã‚¢ãƒ—ãƒªã‚’ä½œã‚‹
VS Codeã§[EXPLORER]>[Open Folder]ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ä½œæˆã—ãŸReposã‚’é¸æŠã™ã‚‹ã€‚
ctrl + j ã§terminalã«ç§»å‹•ã—ã€cloneã—ãŸreposã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§```git branch```ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚[main]ã¨è¿”ã£ã¦ãã¾ã™ã€‚
VS Codeã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ä¸‹éƒ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼å·¦ç«¯ã®[main]ã‚’æŠ¼ã—ã€ãƒ–ãƒ©ãƒ³ãƒã¨ãƒªãƒ¢ãƒ¼ãƒˆãƒ–ãƒ©ãƒ³ãƒãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒ–ãƒ©ãƒ³ãƒã®ä¸­ã‹ã‚‰ã€å·¥ç¨‹3ã§ä½œæˆã—ãŸæ–°ã—ã„branchã‚’é¸æŠã™ã‚‹ã€‚
```git branch```ã‚’å†åº¦å®Ÿè¡Œã—ã€ãƒ–ãƒ©ãƒ³ãƒã®é¸æŠãŒåˆ‡ã‚Šæ›¿ã‚ã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
```cd ..```ã‚’å®Ÿè¡Œã™ã‚‹ã€‚
```python3 -m venv env_1```
```cd env_1```
```source env_1/bin/activate```ã€€ã‚’å®Ÿè¡Œã™ã‚‹ã€‚
ğŸªãƒãƒƒã‚¯ï¼šã‚¨ãƒ©ãƒ¼
:::message alert
source env_1/bin/activate
bash: env_1/bin/activate: No such file or directory
:::
ğŸŒå¯¾å‡¦ï¼švirtualenv ã‚’åˆ©ç”¨ã™ã‚‹ã€‚
```pip list``` ã§ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç¢ºèªã€‚
ãªã‘ã‚Œã°```pip install virtualenv```ã—```pip list```ã§ç¢ºèªã€‚
venvã§ä½œã£ãŸä»®æƒ³ç’°å¢ƒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰å‡ºã¦ã€
```cd ..```
```ls``` 
ä¸€åº¦ä»®æƒ³ç’°å¢ƒå‰Šé™¤```rm -rf env_1```
```ls```
ä»®æƒ³ç’°å¢ƒã®ä½œæˆ```virtualenv -p python3 env_1``` 
ä»®æƒ³ç’°å¢ƒã®æœ‰åŠ¹åŒ–```. env_1/bin/activate```ã€€(env_1)ãŒãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã¤ãä»®æƒ³ç’°å¢ƒæœ‰åŠ¹åŒ–ã§ã™ã€‚
```cd tutorial;ls;pip list;``` ã§djangoãŒå…¥ã£ã¦ã„ãªã‘ã‚Œã°ã€```pip install django``` ã‚’å®Ÿè¡Œã™ã‚‹ã€‚```pip list``` ã§ç¢ºèªã€‚
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã€‚```django-admin startproject appsite .```
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã€‚```python manage.py startapp appsite_1```
$ ```ls``` ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã€‚
README.md       appsite         appsite_1       manage.py
```python manage.py runserver``` å®Ÿè¡Œã—ã¦ã€Â¥http://127.0.0.1:8000/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã€‚
ä»¥ä¸‹ã¯ç„¡è¦–ã—ã¦ã„ã„ã§ã™ã€‚
You have 18 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.
Run 'python manage.py migrate' to apply them.
æ°—ãŒä»˜ã‘ã°ã€terminalã®ã‚·ã‚§ãƒ«é¸æŠç®‡æ‰€ã«ä»¥ä¸‹æ³¨æ„ãŒå‡ºã¦ã„ã‚‹ã€‚ğŸŒå¯¾å‡¦ï¼šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å³ä¸‹ã®[Relaunch terminal]æŠ¼ã™ã€‚
:::message
 The following extensions want to relaunch the terminal to contribute to its environment:
Python: ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–ã•ã‚ŒãŸç’°å¢ƒ ./env_1/bin/python
:::
tutorial>appsite_1>templatesãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã™ã‚‹ã€‚åŸºæœ¬htmlã¯ã“ã“ã«ç½®ãã‚ˆã†ã§ã™ã€‚
```cd appsite_1;ls;pwd```
```mkdir templates```
```ls;cd templates;pwd;```
```touch index.html```ã§htmlã‚’ä½œæˆã—ã€
index.htmlã‚’é–‹ã„ã¦ã€[!] + [tab] ã‚’æŠ¼ã™ã€‚
```<title>nekokawaii</title>```ã«ã—ã¦ã€bodyã‚¿ã‚°ã®ä¸­ã«pã‚¿ã‚°å…¥ã‚Œã¾ã™ã€‚```<p>Strong Style</p>```
```cd ..;pwd;ls```
```touch urls.py```
urlsã‹ã‚‰viewé–¢æ•°ã‚’å‘¼ã³å‡ºã™è¨­å®šã€tutorial>appsite_1>urls ã‚’é–‹ã„ã¦ã€â†“ã‚’è²¼ã‚Šä»˜ã‘ã€‚
```py:tutorial/appsite_1/urls
from django.urls import path
from . import views

urlpatterns = [
    path('',views.Index, name='Index'),
]
```

viewé–¢æ•°è¨­å®šã€tutorial>appsite_1>views ã«ã¦# Create your views here.ã®ä¸‹ã«ãƒ“ãƒ¥ãƒ¼é–¢æ•°ã‚’è¿½åŠ ã—ã¾ã™ã€‚
```py:tutorial/appsite_1/views
from django.shortcuts import render

# Create your views here.
def Index(request):
    return render(request, 'index.html')
```

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ã®urlsè¨­å®šã€tutorial>appsite>urls ã‚’é–‹ã„ã¦ã€â†“ã‚’è²¼ã‚Šä»˜ã‘ã€‚
```py:tutorial/appsite/urls
from django.contrib import admin
from django.urls import path
from django.urls import include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('appsite_1.urls')), 
]
```
tutorial>appsite>settings.pyã«ã¦ã€INSTALLED_APPS ã«```'appsite_1',```è¿½åŠ 
ãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ä½œç¢ºèªã€‚

cssã¯ã€staticãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦æ ¼ç´ã—ã¾ã™ã€‚
tutorial>appsite_1>static ã‚’ä½œæˆã—ã¦ã€
```touch style.css``` ã§cssã‚’ä½œæˆã—ã€ä»¥ä¸‹ã‚³ãƒ”ãƒšã—ã¾ã™ã€‚
```css:tutorial>appsite_1>static>style.css
* {
    margin: 0;
    padding: 0; 
   }
body {
    background-color: rgba(228, 227, 233, 0.678); /* èƒŒæ™¯è‰²ã‚’è¨­å®š */
}
```
index.htmlã§èª­ã¿è¾¼ã‚€ãŸã‚ã«index.htmlã‚‚æ›´æ–°ã—ã¾ã™ã€‚
å†’é ­ã« ```{% load static %}```ã€€ã€
<head>ã‚¿ã‚°ã®ä¸­ã«ã€```<link rel="stylesheet" href="{% static 'style.css' %}" type="text/css">``` ã‚’ä»•è¾¼ã¿ã¾ã™ã€‚
```html:tutorial>appsite_1>templates>index.html
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'style.css' %}" type="text/css">
    <title>nekokawaii</title>
</head>
<body>
<p>Strong Style</p>    
</body>
</html>
```
ãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ä½œç¢ºèªã—ã¦ã‚‚CSSé©ç”¨ã•ã‚Œã¦è¡¨ç¤ºã•ã‚Œãªã„ã§ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ãªã„ã‹è¦‹ã¾ã™ã€‚
ğŸªãƒãƒƒã‚¯ï¼šã‚¨ãƒ©ãƒ¼
:::message alert
Failed to load resource: the server responded with a status of 404 (Not Found)
:::
ğŸŒå¯¾å‡¦ï¼šctrl + c ã§ä¸€åº¦ã‚µãƒ¼ãƒãƒ¼ã‚’ã¨ã‚ã¦ã€python manage.py runserverã§å†èµ·å‹•ã—ã¾ã™ã€‚

## 5.ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã«commit
CSSé©ç”¨ã¾ã§ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å‹•ä½œç¢ºèªãŒã§ããŸã®ã§ã€VS Codeã®[SOURCE CONTROL]ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰å¤‰æ›´ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ã«ä¸Šã’ã¾ã™ã€‚
![](/images/VSCode_Staging.png)
ã‚¹ãƒ†ãƒ¼ã‚¸ã«ä¸ŠãŒã£ãŸã‚‰ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¥ã‚Œã¦[commit]ã‚’æŠ¼ã—ã¾ã™ã€‚
ãƒœã‚¿ãƒ³ãŒã€[å¤‰æ›´ã‚’åŒæœŸ]ã«å¤‰ã‚ã‚‹ã®ã§ã€å¤‰æ›´ã®åŒæœŸã‚’æŠ¼ã—ã¾ã™ã€‚
[ã“ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ã€"origin/ãƒªãƒ¢ãƒ¼ãƒˆbranchå"ã¨ã®é–“ã§ã‚³ãƒŸãƒƒãƒˆã‚’ãƒ—ãƒ«ãŠã‚ˆã³ãƒ—ãƒƒã‚·ãƒ¥ã—ã¾ã™ã€‚]ã¨è¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€OKã—ã¾ã™ã€‚
Passwordã‚’èã‹ã‚Œã¾ã™ã®ã§ã€Azure DevOpsã®ãƒ›ãƒ¼ãƒ ã‹ã‚‰ã€ç”»é¢å³ä¸Šã®[User settings]>[Personal access tokens]ã§tokenã‚’ç”Ÿæˆã™ã‚‹ã‹ã€æ—¢å­˜ã®Manage tokensã‚’é¸æŠã—ã¦[Regenerate]ã™ã‚‹ã‹ã—ã¦ã€ã‚³ãƒ”ãƒšã—ã¾ã™ã€‚
Azure DevOpsã§å¯¾è±¡ã®projectã®Reposã®ãƒ–ãƒ©ãƒ³ãƒã«åæ˜ ã•ã‚Œã¦ã„ã‚‹ã“ã¨ç¢ºèªã—ã¾ã™ã€‚

â– å‚è€ƒè¨˜äº‹
AzureDevOpsã®reposã®ä½¿ã„æ–¹ã€‚
https://qiita.com/mstakaha1113/items/e2c6ef2622bc6cc0b0ef
Azure DevOpsã®Reposã§ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ä½œæˆã™ã‚‹æ–¹æ³•ã€‚
https://qiita.com/yamazaki3104/items/8aef0c1aad99895a6097
git ã§ã®ãƒ–ãƒ©ãƒ³ãƒæ“ä½œ
https://qiita.com/glitter_holic/items/b76fda092ec2f56afae8
https://blitzgate.co.jp/blog/2348/
virtualenvã«ã‚ˆã‚‹ä»®æƒ³åŒ–ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ã™ã‚‹éš›ã®ã‚³ãƒãƒ³ãƒ‰
https://stackoverflow.com/questions/37137664/issue-with-activating-virtualenv
dnangoå…¬å¼ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
https://docs.djangoproject.com/ja/5.0/intro/tutorial01/
